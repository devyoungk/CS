## 동기화

협력하여 실행되는 프로세스들은 실행 순서와 자원의 일관성을 보장해야 함  
→ 이를 보장하기 위한 **동기화**는 필수 영역임 (프로세스들 사이 실행 시기 맞추기)

#### 프로세스 동기화

- 실행 순서 제어: 올바른 순서대로 실행하기
- 상호 배제: 동시에 접근하면 안 되는 자원에 대해 하나의 접근만 허용하기

> **상호 배제는 언제 필요한가?**  
> 1. 잔액에 일정 금액을 더하는 프로세스가 두 개 존재할 때, 동시 접근으로 인해 최종 잔액이 비정상 값이 될 수 있음  
> 2. 한정된 수량의 상품에 대해 소비자의 동시 접근을 허용하면 품절 처리가 어려울 수 있음

앞서 제시한 두 상황 모두 **공유 자원**이라고 일컫는 자원을 두고 작업했기 때문에 발생한 이슈임 (정확히는 임계 구역 접근)  
이러한 공유자원은 `전역 변수`, `파일`, `입출력장치`, `보조기억장치` 모두 될 수 있음

여러 프로세스가 임계 구역의 코드를 동시 다발적으로 실행하는 경우를 **레이스 컨디션**이라고 함

#### 레이스 컨디션 방지를 위한 원칙 세 가지
1. **상호 배제**: 이미 임계 구역에 진입한 프로세스가 있다면, 다른 프로세스의 접근은 제한한다.
2. **진행**: 임계 구역에 아무도 없다면, 진입하려는 프로세스들 중에서 하나를 선택하는 과정이 무한정 연기되어서는 안 된다. (→ 결정 과정의 지연 방지)
3. **유한 대기**: 어떤 프로세스가 임계 구역에 진입을 요청한 후, 다른 프로세스들이 임계 구역에 진입하는 횟수에 한계가 있어야 한다. (→ Starvation 방지)

---

### 프로세스 동기화 vs. 클라우드 동기화

> 둘은 전혀 다른 개념이지만, 서로 관련이 있음. 클라우드 서비스가 여러 사용자와 기기에서 동시에 파일 업로드/수정 요청이 들어올 때 데이터가 꼬이지 않도록 하려면, 그 내부 서버에서는 반드시 프로세스 동기화 기술을 사용해야 함.

- **프로세스 동기화 (OS/프로그래밍)**: **실행 시점과 순서**를 맞추는 것에 대한 기술적인 용어  
  → 여러 프로세스나 스레드가 공유 자원에 동시에 접근하여 데이터가 깨지는 문제(레이스 컨디션)를 막기 위한 내부적인 작동 원리에 가까움  
  → Java의 synchronized 키워드나 데이터베이스의 트랜잭션 격리 수준 등이 여기에 해당

- **클라우드 동기화 (서비스)**: **데이터의 상태**를 여러 기기에서 동일하게 맞추는 것을 의미하는 사용자 관점의 용어  
  → 내 컴퓨터의 파일이 수정되면, 클라우드 서버와 다른 내 스마트폰의 파일도 같은 내용으로 업데이트되는 결과적인 상태의 일치를 말함

#### 차이점 두 줄 요약

- 프로세스 동기화 → 데이터 일관성을 지키기 위한 방법/원리 (How)

- 클라우드 동기화 → 여러 기기에서 데이터가 같아진 결과/기능 (What)
