# 교착 상태 해결 방법

## 예방

교착 상태의 발생 조건 중 하나를 충족하지 못하게 하는 방법

- 상호 배제
    
    모든 자원을 공유 가능하게 만든다
    
    → 교착 상태를 없앨 수는 있지만 현실적으로 모든 자원의 상호배제를 없애기는 어렵다.
    
- 점유와 대기
    
    특정 프로세스에 자원을 모두 할당하거나, 아예 할당하지 않거나
    
    → 자원 활용률이 낮아지고 많은 자원을 활용하는 프로세스는 계속 기다리는 기아 현상 발생
    
- 비선점
    
    자원을 이용중인 프로세스로 부터 해당 자원을 빼앗을 수 있다.
    
    → cpu같은 자원은 효과적임
    
    → 프린터 같은건 빼앗아서 사용하기 어렵다.
    
- 원형 대기
    
    자원에 번호를 붙이고 오름차순으로 자원 할당
    
    <img width="696" height="710" alt="image" src="https://github.com/user-attachments/assets/ef8d6308-49be-4c48-b444-9c357ae9a21f" />
    
    <img width="740" height="292" alt="image" src="https://github.com/user-attachments/assets/95036350-eb77-4309-b012-e3f1225f11e0" />
    

## 회피

안전 상태를 유지할 수 있는 경우에만 자원을 할당하는 방법

**`안전상태`**: 교착 상태가 발생하지 않고 모든 프로세스가 정상적으로 자원을 할당받고 종료될 수 있는 상태

**`불안전 상태`**: 교착상태가 발생할 수도 있는 상황

**`안전 순서열`**: 교착 상태 없이 안전하게 프로세스들에 자원을 할당할 수 있는 순서

## 검출 후 회복

교착 상태 발생 여부를 주기적으로 검사하고, 교착 상태 검출 되면 그때 그때 회복하는 방법

- 선점을 통한 회복
    
    교착 상태가 해결 될때 까지 한 프로세스씩 자원 몰아주기
    
- 프로세스 강제 종료를 통한 회복
    - 교착 상태 프로세스 모두 종료하거나
        - 확실하지만, 작업 내역 잃을 가능성
    - 교착 생태 없어질 때 까지 한 프로세스씩 강제 종료
        - 작업 내역 손실 최소화 하지만 오버헤드 야기

추가로 교착 상태를 아예 무시하는 방법인 **타조 알고리즘**도 있다.
