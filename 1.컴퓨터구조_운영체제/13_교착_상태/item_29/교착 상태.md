## 교착 상태란

일어나지 않을 사건을 기다리며 무한히 대기하는 현상

<img width="612" height="356" alt="image" src="https://github.com/user-attachments/assets/71b302ce-d31a-42f8-a312-c7bc72e0f245" />

### 식사하는 철학자 문제

<img width="500" height="480" alt="image" src="https://github.com/user-attachments/assets/75cdbf91-473e-4a38-a164-2144210fd213" />

1. 계속 생각을 하다가 왼쪽 포크가 사용 가능하면 집어든다.
2. 계속 생각을 하다가 오른쪽 포크가 사용 가능하면 집어든다.
3. 왼쪽과 오른쪽 포크를 모두 집어들면 정해진 시간동안 식사를 한다.
4. 식사 시간이 끝나면 오른쪽 포크를 내려놓는다.
5.  오른쪽 포크를 내려놓은 뒤 왼쪽 포크를 내려놓는다.
6. 다시 **1** 번부터 반복한다.

과연 식사가 가능할까?

모든 철학자가 동시에 포크를 집어 식사를 하면 영원히 식사를 할 수 없다.

<img width="1010" height="244" alt="image" src="https://github.com/user-attachments/assets/204d4272-3570-4d06-9fcc-a8d28d2d8f5a" />

뮤텍스 락에서도 교착상태는 발생할 수 있다.

### 자원 할당 그래프

교착 상태는 **자원 할당 그래프**로 단순하게 표현 가능

<img width="1060" height="532" alt="image" src="https://github.com/user-attachments/assets/26f485d4-d2c1-4f55-aceb-af5eb434dd90" />

- 프로세스는 원, 자원의 종류는 사각형
- 사용할수 있는 자원의 개수는 자원 사각형 내에 점으로 표현
- 프로세스가 자원을 할당받아 사용중이라면 자원에서 프로세스를 향해 화살표 표시
- 프로세스가 자원을 기다리고 있다면 프로세스에서 자원으로 화살표 표시

교착 상태의 그래프를 보면..

<img width="664" height="648" alt="image" src="https://github.com/user-attachments/assets/815c72a0-31ac-4d3b-b78f-9167d3629227" />

<img width="788" height="412" alt="image" src="https://github.com/user-attachments/assets/227c6abc-44e2-4c58-af9f-6b18ee23c18c" />

뭔가 특징이 있는것 같다..

### 발생 조건

- 상호 배제
    
    해당 자원을 한번에 하나의 프로세스만 이용 가능하다.
    
- 점유와 대기
    
    자원을 보유한 상태로 다른 자원을 기다린다.
    
- 비선점
    
    다른 프로세스의 자원을 강제로 빼았지 않고 기다린다.
    
- 원형 대기
    
    프로세스들이 원의 형태로 자원을 대기한다.
    

