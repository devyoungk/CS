# 7-2

## 7-2 RAID의 정의와 종류

1TB 하드 디스크 네 개로 RAID를 구성하면 4TB 하드 디스크 한 개의 성능과 안전성을 능가할 수 있습니다.

이번 절에서는 RAID가 무엇이며, 왜 이런 차이가 생기는 지 알아보겠습니다.

### RAID의 정의

RAID는 주로 하드 디스크와 SSD를 사용하는 기술로, 데이터의 안전성 혹은 높은 성능을 위해

여러 개의 물리적 보조 기억 장치를 마치 하나의 논리적 보조 기억 장치처럼 사용하는 기술을 의미합니다.

### RAID의 종류

여러 개의 하드 디스크나 SSD를 마치 하나의 장치처럼 사용하는 RAID를 구성하는 방법은 여러가지가 있습니다.

RAID 구성 방법은 RAID 레벨이라 표현하는데 대표적으로 RAID 0~6이 있고,

그로부터 파생된 RAID 10, RAID 50 등이 있습니다.

### RAID 0

여러 개의 보조 기억 장치에 데이터를 단순히 나누어 저장하는 구성 방식입니다.

어떠한 데이터를 저장할 때 각 하드 디스크는 번갈아 가며 데이터를 저장합니다.

즉, 저장되는 데이터가 하드 디스크 개수만큼 나뉘어 저장되게 됩니다.

이 때 마치 줄무늬처럼 분산되어 저장된 데이터를 **스트라입**이라 하고,

분산하여 저장하는 것을 **스트라이핑**이라고 합니다.

데이터가 분산되어 저장되면, 저장된 데이터를 읽고 쓰는 속도가 빨라집니다.

하나의 대용량 저장 장치를 이용했더라면 여러 번에 걸쳐 읽고 썼을 데이터를

동시에 읽고 쓸 수 있기 때문입니다.

⇒  4TB 저장 장치 한 개를 읽고 쓰는 속도보다 

RAID 0로 구성된 1TB 저장 장치 네 개의 속도가 이론 상 4배 가량 빠릅니다.

- **RAID 0의 단점**

RAID 0에는 단점이 있습니다.

저장된 정보가 안전하지 않다는 점입니다.

RAID 0로 구성된 하드 디스크 중 하나에 문제가 생긴다면 다른 모든 하드 디스크의 정보를

읽는 데 문제가 생길 수 있습니다.

이를 해결하기 위해 등장한 것이 RAID 1 입니다.

### RAID 1

RAID 1은 복사본을 만드는 방식입니다. **미러링**이라고도 부릅니다.

RAID 0처럼 데이터 스트라이핑을 사용하고, 저장된 데이터의 복사본을 만듭니다.

RAID 1에 어떠한 데이터를 쓸 때는 원본과 복사본 두 군데에 쓰기 때문에 쓰기 속도는 RAID 0보다 느립니다.

RAID 1 방식은 복구가 매우 간단하다는 장점이 있습니다.

하지만 RAID 1은 하드 디스크 개수가 한정되었을 때, 사용 가능한 용량이 적어지는 단점이 있습니다.

### RAID 4

RAID 1 처럼 완전한 복사본을 만드는 대신 오류를 검출하고,

복구하기 위한 정보를 저장한 장치를 두는 구성 방식입니다.

이 때 오류를 검출하고 복구하기 위한 정보를 **패리티 비트**라고 합니다.

RAID 4 에서는 패리티를 저장한 장치를 이용해 다른 장치들의 오류를 검출하고, 오류가 있다면 복구합니다.

RAID 1 보다 적은 하드 디스크로도 데이터를 안전하게 보관할 수 있습니다.

<aside>
💡

**패리티 비트**

패리티 비트는 오류 검출만 가능할 뿐 오류 복구는 불가능합니다.

하지만 RAID에서는 패리티 값으로 오류 수정도 가능합니다.

</aside>

### RAID 5

RAID 4 에서는 어떤 새로운 데이터가 저장될 때마다 패리티를 저장하는 디스크에도 데이터를 쓰게 되므로,

패리티를 저장하는 장치에 병목 현상이 발생한다는 문제가 있습니다.

RAID 5는 패리티 정보를 분산하여 저장하는 방식으로 RAID 4의 문제인 병목 현상을 해소합니다.

### RAID 6

구성은 기본적으로 RAID 5와 같으나, 서로 다른 두 개의 패리티를 두는 방식입니다.

이는 오류를 검출하고 복구할 수 있는 수단이 2개로 늘어났음을 의미합니다.

다만 새로운 정보를 저장할 때마다 함께 저장할 패리티가 2개이므로, 

쓰기 속도는 RAID 5보다 느립니다.

따라서 RAID 6는 데이터 저장 속도를 조금 희생하더라도, 

데이터를 더욱 안전하게 보관하고 싶을 때 사용하는 방식입니다.

이 외에도 RAID 0와 RAID 1을 혼합한 RAID 10방식도 있고, 

RAID 0와 RAID 5를 혼합한 RAID 50방식도 있습니다.