### 11-2 CPU 스케줄링 알고리즘

## 스케줄링 알고리즘의 종류

### 선입 선처리 스케줄링 (FCFS  스케줄링)

- 준비 큐에 삽입된 순서대로 프로세스들을 처리하는 비선점형 스케줄링 방식

단점

- 호위 효과
    - 하나의 긴 프로세스때문에 짧은 프로세스들이 줄줄이 기다리게 되는 현상.
<br>

---


### 최단 작업 우선 스케줄링 (SJF 스케줄링)

호위 효과를 방지하기 위해서는 긴 프로세스는 나중에 실행하고, CPU 사용 시간이 짧은 프로세스를 먼저 실행해야 한다.

→ 최단 작업 우선 스케줄링

- CPU 이용 시간의 길이가 가장 짧은 프로세스부터 실행하는 스케줄링 방식

> CPU 이용 시간은 어떻게 파악할까?
>
> CPU 이용 시간 예측 방법
> 
> 1. 실제 CPU Burst (CPU를 연속적으로 점유하여 연산을 수행하는 시간)을 기록/예측
>     1. PCB에 이전 CPU 사용 기록을 저장하고, 이를 기반으로 다음 CPU Burst를 예측한다.
> 2. 이전 패턴 기반 추정
>     1. CPU 집중형/IO 집중형 패턴을 분석하여 짧게 쓸 것 같은 프로세스 우선 선택한다.
<br>

---

### 라운드 로빈 스케줄링 (RR)

- 정해진 타임 슬라이스 만큼의 시간 동안 돌아가며 CPU를 이용하는 선점형 스케줄링 방식
- 큐에 삽입된 프로세스들은 삽입된 순서대로 CPU를 이용하되 정해진 시간만큼만 CPU를 이용
- 정해진 시간을 모두 사용했으면 다시 큐의 맨 뒤에 삽입된다. (문맥 교환 발생)

선입 선처리 스케줄링에 타임 슬라이스라는 개념이 더해진 스케줄링 방식이다.

> 타임 슬라이스 : 한 프로세스가 연속으로 CPU를 사용할 수 있는 최대 시간
<br>

⇒ 라운드 로빈 스케줄링에서는 타임 슬라이스 크기가 매우 중요하다.

타임 슬라이스가 지나치게 크면 선입 선처리 스케줄링과 다를 바 없어 호위 효과가 생기고,

지나치게 작으면 문맥 교환이 자주 발생한다.

<br>

---

### 최소 잔여 시간 우선 스케줄링 (SRT 스케줄링)

- 최단 작업 우선 스케줄링 알고리즘과 라운드 로빈 알고리즘을 합친 스케줄링 방식이다.

최소 잔여 시간 우선 스케줄링 하에서 프로세스들은 정해진 타임 슬라이스만큼 CPU를 사용하고,

CPU를 사용할 다음 프로세스로는 남아있는 작업 시간이 가장 적은 프로세스가 선택된다.

<br>

---

### 우선순위 스케줄링

- 프로세스들에 우선순위를 부여하고, 가장 높은 우선순위를 가진 프로세스부터 실행하는 스케줄링 알고리즘이다.
- 최단 작업 우선 스케줄링, 최소 잔여 시간 우선 스케줄링 알고리즘은 우선 순위 스케줄링의 일종으로 볼 수 있다.

우선순위 스케줄링의 문제점

- 기아 현상
    - 우선 순위가 낮은 프로세스가 우선 순위가 높은 프로세스들에 의해 실행이 계속 연기되는 현상

방지하기 위한 대표적인 기법

- 에이징
    - 오랫동안 대기한 프로세스의 우선순위를 점차 높이는 방식

<br>

---

### 다단계 큐 스케줄링

- 우선 순위 스케줄링의 발전된 형태
- 우선순위별로 준비 큐를 여러 개 사용하는 스케줄링 방식이다.

우선 순위가 가장 높은 큐에 있는 프로세스들을 먼저 처리하고,

우선 순위가 가장 높은 큐가 비어 있으면 그 다음 우선 순위 큐에 있는 프로세스들을 처리한다.

장점

- 유형별로 우선 순위를 구분하여 실행하는 것이 편리해진다.
- 큐별로 타임 슬라이스를 여러 개 지정할 수 있다.
- 큐마다 다른 스케줄링 알고리즘을 사용할 수 있다.

단점

- 한 번 큐가 정해지면 프로세스는 다른 큐로 이동할 수 없다.
- 기아 문제
    - 높은 우선 순위 큐가 비워지지 않으면 낮은 큐의 프로세스는 계속 기다려야 한다.

→ 다단계 피드백 큐 스케줄링

<br>

---

### 다단계 피드백 큐 스케줄링

- 다단계 큐 스케줄링과 비슷하게 작동하지만, 프로세스들이 큐 사이를 이동할 수 있다.

**다단계 피드백 큐 스케줄링 과정**

1. 새로 준비 상태가 된 프로세스가 있다면 우선 우선순위가 가장 높은 큐에 삽입되고, 타임 슬라이스 동안 실행
2. 프로세스가 해당 큐에서 실행이 끝나지 않는다면 다음 우선 순위 큐에 삽입되어 실행

⇒ 이 과정이 반복되면 CPU를 오래 사용해야 하는 프로세스는 점차 우선순위가 낮아지게 된다.

다단계 피드백 큐 스케줄링은 프로세스들이 큐 사이를 이동할 수 있기 때문에,

낮은 우선 순위 큐에서 너무 오래 기다리고 있는 프로세스가 있다면 에이징 기법을 적용하여 기아 현상을 예방할 수 있다.
