# 15-1 파일과 디렉터리

파일 시스템은 파일과 디렉터리를 관리한다.

## 파일

- 하드 디스크나 SSD와 같은 보조 기억 장치에 저장된 관련 정보의 집합
- 의미있고 관련 있는 정보를 모은 논리적 단위

### 파일을 이루는 정보

모든 파일에는 이름과 파일을 실행하기 위한 정보, 파일 관련 부가 정보가 존재한다.

부가 정보를 **속성** 또는 **메타데이터**라고 부른다.

---

### 파일 속성과 유형

| 속성 이름 | 의미 |
| --- | --- |
| 유형 | 운영체제가 인지하는 파일의 종류를 나타낸다. |
| 크기 | 파일의 현재 크기와 허용 가능한 최대 크기를 나타낸다 |
| 보호 | 어떤 사용자가 해당 파일을 읽고, 쓰고, 실행할 수 있는지를 나타낸다. |
| 생성 날짜 | 파일이 생성된 날짜를 나타낸다. |
| 마지막 접근 날짜 | 파일에 마지막으로 접근한 날짜를 나타낸다. |
| 마지막 수정 날짜 | 파일이 마지막으로 수정된 날자를 나타낸다. |
| 생성자 | 파일을 생성한 사용자를 나타낸다. |
| 소유자 | 파일을 소유한 사용자를 나타낸다. |
| 위치 | 파일의 보조 기억 장치상의 현재 위치를 나타낸다. |

---

### 확장자

같은 이름의 파일일지라도 파일 유형이 다르면 실행 양상이 달라진다.

그래서 파일을 실행할 OS에 파일 유형을 알려주어야 한다.

이를 위해 가장 흔히 사용하는 방식이 파일 이름 뒤에 붙는 확장자를 이용하는 것이다.

| 파일 유형 | 대표적인 확장자 |
| --- | --- |
| 실행 파일 | 없는 경우, exe, com, bin |
| 목적 파일 | obj, o |
| 소스 코드 파일 | c, cpp, cc, java, asm, py |
| 워드 프로세서 파일 | xml, rtf, doc, docx |
| 라이브러리 파일 | lib, a, so, dll |
| 멀티미디어 파일 | mpeg, mov, mp3, mp4, avi |
| 백업/보관 파일 | rar, zip, tar |

---

### 파일 연산을 위한 시스템 호출

파일을 다루는 모든 작업은 OS에서 이루어진다.

어떤 프로그램도 임의로 파일을 조작할 수 없으며, 파일을 다루려면 OS에게 요청을 보내야 한다. 

이를 위해 OS는 다음과 같은 파일 연산을 위한 시스템 호출( System Call )을 제공한다.

- 파일 생성
- 파일 삭제
- 파일 열기
- 파일 닫기
- 파일 읽기
- 파일 쓰기

---

## 디렉터리

파일들을 관리하기 위해 디렉터리를 이용한다.

OS에서는 디렉터리를 폴더라고 부른다.

### 트리 구조 디렉터리

1단계 디렉터리로는 많은 파일을 관리하기 어렵기 때문에,

여러 계층을 가진 트리 구조 디렉터리가 생겨났다.

최상위 디렉터리가 있고, 그 아래에 여러 서브 디렉터리가 존재한다.

최상위 디렉터리를 흔히 **루트 디렉터리**라고 부르고 슬래시로 표현한다.

⇒ 경로라는 개념이 생겨났다.

---

### 절대 경로와 상대 경로

같은 디렉터리에는 동일한 이름의 파일이 존재할 수 없지만,

서로 다른 디렉터리에는 동일한 이름의 파일이 존재할 수 있다.

- 절대 경로
    - 루트 디렉터리에서 자기 자신까지 이르는 고유한 경로
- 상대 경로
    - 현재 디렉터리부터 시작하는 경로

<aside>
💡

유닉스, 리눅스, macOS 등의 운영체제에서

슬래시 기호는 루트 디렉터리 뿐만 아니라 디렉터리 사이의 구분자로도 사용한다.

윈도우에서는 디렉터리 구분자로 ￦ 를 사용한다.

</aside>

---

### 디렉터리 연산을 위한 시스템 호출

OS는 디렉터리 연산을 위한 시스템 호출을 제공한다.

- 디렉터리 생성
- 디렉터리 삭제
- 디렉터리 열기
- 디렉터리 닫기
- 디렉터리 읽기

---

### 디렉터리 엔트리

- 디렉터리도 특수한 파일이다.
    - 파일 : 내부에 해당 파일과 관련된 정보를 담고 있다.
    - 디렉터리 : 내부에 해당 디렉터리에 담겨있는 대상과 관련된 정보를 담고 있다.

- 디렉터리는 테이블 형태의 정보로 저장된다.
    - 보조 기억 장치에 테이블 형태로 저장된다.

- 디렉터리 엔트리(행)
    - 디렉터리 내부의 한 행을 디렉터리 엔트리라고 부른다.
    - 엔트리에는 각 파일, 디렉터리와 관련된 정보가 들어 있다.
    - 파일 시스템마다 차이가 있지만 디렉터리에 포함된 대상의 이름과 그 대상이 보조 기억 장치 내에 저장된 위치를 유추할 수 있는 정보가 공통적으로 담긴다.

⇒ 디렉터리 : 파일의 목차 역할 / 디렉터리 엔트리 : 목차의 한 줄 (이름과 페이지 번호)