# 1. 전송 계층 개요

네트워크 계층과 응용 계층 사이에 위치한 **전송 계층은** IP의 한계 극복, 애플리케이션 프로세스 식별하는 역할 수행

---

## 신뢰할 수 없는 통신과 비연결형 통신

IP의 한계

- 신뢰할 수 없는 프로토콜 : 패킷이 수신지까지 제대로 전송되었다는 보장을 하지 않음
- 비연결형 프로토콜 : 송수신 호스트 간에 사전 연결 수립 작업을 거치지 않음

---

## IP의 한계를 보완하는 전송 계층

#### 1. 전송 계층은 연결형 통신을 가능하게 한다.

전송 계층의 연결형 프로토콜 **TCP** -> 송수신하는 동안 연결 유지, 끝나면 연결 종료

#### 2. 전송 계층은 신뢰성 있는 통신을 가능하게 한다.

이 역시 **TCP**를 통함

※ 높은 성능을 위해 신뢰할 수 없는 통신, 비연결형 통신 필요 -> **UDP**

---

## 응용 계층과의 연결 다리, 포트

#### 포트의 정의

**포트** : 응용 계층의 애플리케이션 프로세스를 식별하는 정보

#### 포트의 분류

전송 계층에서는 **포트 번호**를 통해 특정 애플리케이션 식별

| 포트 종류 | 포트 번호 범위 |
| --- | --- |
| 잘 알려진 포트 | 0~1023 |
| 등록된 포트 | 1024~49151 |
| 동적 포트 | 49152~65535 |
- 잘 알려진 포트 : 범용적으로 사용되는 애플리케이션 프로토콜이 일반적으로 사용하는 포트 번호 (80-HTTP, 443-HTTPS 등)
- 등록된 포트 : 덜 범용적이지만, 흔히 사용되는 애플리케이션 프로토콜에 할당하기 위해 사용
- 동적 포트 : 인터넷 할당 번호 관리 기관에 의해 할당된 애플리케이션 프로토콜이 없음, 자유롭게 사용 가능

IP 주소와 포트 번호 정보가 함께 주어지면 -> 특정 호스트에서 실행 중인 특정 애플리케이션 프로세스를 식별할 수 있다  
-> 일반적으로 **IP 주소:포트 번호** 형식

---

## 포트 기반 NAT

**NAT** : IP 주소를 변환하는 기술 -> **NAT 변환 테이블** 사용

#### NAT 변환 테이블

NAT 변환 테이블에는 변환의 대상이 되는 IP 주소 쌍 명시, 일대일 대응
-> 많은 사설 IP 주소를 변환하기는 어려워

#### NAPT

**NAPT** : 포트 기반의 NAT  
NAT 테이블에 변환할 IP 주소 쌍 포트 번호 함께 기록 및 변환  
-> 네트워크 외부에서 사용할 IP 주소가 같아도 포트 번호가 다르면 네트워크 내부 호스트 특정 가능

---

#### 참고

※ 포트 포워딩  
네트워크 내 특정 호스트에 IP 주소와 포트 번호를 미리 할당하고, 해당 IP 주소:포트 번호로써 해당 호스트에게 패킷을 전달하는 기능

※ ICMP  
IP의 특성을 보완하기 위한 네트워크 계층의 프로토콜로, IP 패킷의 전송 과정에 대한 피드백 메시지를 얻기 위해 사용하는 프로토콜
